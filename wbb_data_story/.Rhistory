mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ") %>%
mutate(state = case_when(
str_detect(state, "NJ") ~ "NJ",
str_detect(state, "N.J.") ~ "NJ",
str_detect(state, "N.M.") ~ "NM",
str_detect(state, "N.Y.") ~  "NY",
str_detect(state, "NC") ~ "NC",
str_detect(state, "ND") ~ "ND",
str_detect(state, "OH") ~ "OH",
str_detect(state, "OK") ~ "OK",
str_detect(state, "OR") ~ "OR",
str_detect(state, "PA") ~ "PA",
str_detect(state, "RI") ~ "RI",
str_detect(state, "SC") ~ "SC",
str_detect(state, "SD") ~ "SD",
str_detect(state, "TN") ~ "TN",
str_detect(state, "TX") ~ "TX",
str_detect(state, "UT") ~ "UT",
str_detect(state, "VT") ~ "VT",
str_detect(state, "VA") ~ "VA",
str_detect(state, "WA") ~ "WA",
str_detect(state, "WV") ~ "WV",
str_detect(state, "WI") ~ "WI",
str_detect(state, "WY") ~ "WY",
str_detect(state, "AL") ~ "AL",
str_detect(state, "AK") ~  "AK",
str_detect(state, "AZ") ~  "AZ",
str_detect(state, "AR") ~  "AR",
str_detect(state, "CA") ~  "CA",
str_detect(state, "CO") ~ "CO",
str_detect(state, "CT") ~  "CT",
str_detect(state, "DE") ~  "DE",
str_detect(state, "FL") ~  "FL",
str_detect(state, "GA") ~  "GA",
str_detect(state, "HI") ~ "HI",
str_detect(state, "ID") ~  "ID",
str_detect(state, "IL") ~  "IL",
str_detect(state, "Ill") ~  "IL",
str_detect(state, "IN") ~  "IN",
str_detect(state, "IA") ~  "IA",
str_detect(state, "KS") ~ "KS",
str_detect(state, "KY") ~  "KY",
str_detect(state, "LA") ~  "LA",
str_detect(state, "ME") ~  "ME",
str_detect(state, "MD") ~  "MD",
str_detect(state, "MA") ~  "MA",
str_detect(state, "MI") ~  "MI",
str_detect(state, "MN") ~ "MN",
str_detect(state, "MS") ~  "MS",
str_detect(state, "MO") ~  "MO",
str_detect(state, "NE") ~  "NE",
str_detect(state, "NV") ~ "NV",
str_detect(state, "NH") ~ "NH",
str_detect(state, "DC") ~ "DC",
str_detect(state, "MT") ~ "MT",
str_detect(state, "PR") ~ "PR",
TRUE ~ state
))
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
#Attempt 1
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ") %>%
mutate(clean_state = case_when(
str_detect(state, "NJ") ~ "NJ",
str_detect(state, "N.J.") ~ "NJ",
str_detect(state, "N.M.") ~ "NM",
str_detect(state, "N.Y.") ~  "NY",
str_detect(state, "NC") ~ "NC",
str_detect(state, "ND") ~ "ND",
str_detect(state, "OH") ~ "OH",
str_detect(state, "OK") ~ "OK",
str_detect(state, "OR") ~ "OR",
str_detect(state, "PA") ~ "PA",
str_detect(state, "RI") ~ "RI",
str_detect(state, "SC") ~ "SC",
str_detect(state, "SD") ~ "SD",
str_detect(state, "TN") ~ "TN",
str_detect(state, "TX") ~ "TX",
str_detect(state, "UT") ~ "UT",
str_detect(state, "VT") ~ "VT",
str_detect(state, "VA") ~ "VA",
str_detect(state, "WA") ~ "WA",
str_detect(state, "WV") ~ "WV",
str_detect(state, "WI") ~ "WI",
str_detect(state, "WY") ~ "WY",
str_detect(state, "AL") ~ "AL",
str_detect(state, "AK") ~  "AK",
str_detect(state, "AZ") ~  "AZ",
str_detect(state, "AR") ~  "AR",
str_detect(state, "CA") ~  "CA",
str_detect(state, "CO") ~ "CO",
str_detect(state, "CT") ~  "CT",
str_detect(state, "DE") ~  "DE",
str_detect(state, "FL") ~  "FL",
str_detect(state, "GA") ~  "GA",
str_detect(state, "HI") ~ "HI",
str_detect(state, "ID") ~  "ID",
str_detect(state, "IL") ~  "IL",
str_detect(state, "Ill") ~  "IL",
str_detect(state, "IN") ~  "IN",
str_detect(state, "IA") ~  "IA",
str_detect(state, "KS") ~ "KS",
str_detect(state, "KY") ~  "KY",
str_detect(state, "LA") ~  "LA",
str_detect(state, "ME") ~  "ME",
str_detect(state, "MD") ~  "MD",
str_detect(state, "MA") ~  "MA",
str_detect(state, "MI") ~  "MI",
str_detect(state, "MN") ~ "MN",
str_detect(state, "MS") ~  "MS",
str_detect(state, "MO") ~  "MO",
str_detect(state, "NE") ~  "NE",
str_detect(state, "NV") ~ "NV",
str_detect(state, "NH") ~ "NH",
str_detect(state, "DC") ~ "DC",
str_detect(state, "MT") ~ "MT",
str_detect(state, "PR") ~ "PR",
TRUE ~ state
))
str_detect(state, "Texax") ~  "TX",
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
#Attempt 1
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ") %>%
mutate(clean_state = case_when(
str_detect(state, "NJ") ~ "NJ",
str_detect(state, "N.J.") ~ "NJ",
str_detect(state, "N.M.") ~ "NM",
str_detect(state, "N.Y.") ~  "NY",
str_detect(state, "NC") ~ "NC",
str_detect(state, "ND") ~ "ND",
str_detect(state, "OH") ~ "OH",
str_detect(state, "OK") ~ "OK",
str_detect(state, "OR") ~ "OR",
str_detect(state, "PA") ~ "PA",
str_detect(state, "RI") ~ "RI",
str_detect(state, "SC") ~ "SC",
str_detect(state, "SD") ~ "SD",
str_detect(state, "TN") ~ "TN",
str_detect(state, "TX") ~ "TX",
str_detect(state, "Texax") ~  "TX",
str_detect(state, "UT") ~ "UT",
str_detect(state, "VT") ~ "VT",
str_detect(state, "VA") ~ "VA",
str_detect(state, "WA") ~ "WA",
str_detect(state, "WV") ~ "WV",
str_detect(state, "WI") ~ "WI",
str_detect(state, "WY") ~ "WY",
str_detect(state, "AL") ~ "AL",
str_detect(state, "AK") ~  "AK",
str_detect(state, "AZ") ~  "AZ",
str_detect(state, "AR") ~  "AR",
str_detect(state, "CA") ~  "CA",
str_detect(state, "CO") ~ "CO",
str_detect(state, "CT") ~  "CT",
str_detect(state, "DE") ~  "DE",
str_detect(state, "FL") ~  "FL",
str_detect(state, "GA") ~  "GA",
str_detect(state, "HI") ~ "HI",
str_detect(state, "ID") ~  "ID",
str_detect(state, "IL") ~  "IL",
str_detect(state, "Ill") ~  "IL",
str_detect(state, "IN") ~  "IN",
str_detect(state, "IA") ~  "IA",
str_detect(state, "KS") ~ "KS",
str_detect(state, "KY") ~  "KY",
str_detect(state, "LA") ~  "LA",
str_detect(state, "ME") ~  "ME",
str_detect(state, "MD") ~  "MD",
str_detect(state, "MA") ~  "MA",
str_detect(state, "MI") ~  "MI",
str_detect(state, "MN") ~ "MN",
str_detect(state, "MS") ~  "MS",
str_detect(state, "MO") ~  "MO",
str_detect(state, "NE") ~  "NE",
str_detect(state, "NV") ~ "NV",
str_detect(state, "NH") ~ "NH",
str_detect(state, "DC") ~ "DC",
str_detect(state, "MT") ~ "MT",
str_detect(state, "PR") ~ "PR",
TRUE ~ state
))
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
#attempt 2
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(clean_state = state2abbr(state))
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(clean_state = state2abbr(state))
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(clean_state = state2abbr(state))
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(clean_state = state2abbr(state))
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
#Attempt 1
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ") %>%
mutate(clean_state = case_when(
str_detect(state, "NJ") ~ "NJ",
str_detect(state, "N.J.") ~ "NJ",
str_detect(state, "N.M.") ~ "NM",
str_detect(state, "N.Y.") ~  "NY",
str_detect(state, "NC") ~ "NC",
str_detect(state, "ND") ~ "ND",
str_detect(state, "OH") ~ "OH",
str_detect(state, "OK") ~ "OK",
str_detect(state, "OR") ~ "OR",
str_detect(state, "PA") ~ "PA",
str_detect(state, "RI") ~ "RI",
str_detect(state, "SC") ~ "SC",
str_detect(state, "SD") ~ "SD",
str_detect(state, "TN") ~ "TN",
str_detect(state, "TX") ~ "TX",
str_detect(state, "Texas") ~  "TX",
str_detect(state, "UT") ~ "UT",
str_detect(state, "VT") ~ "VT",
str_detect(state, "VA") ~ "VA",
str_detect(state, "WA") ~ "WA",
str_detect(state, "WV") ~ "WV",
str_detect(state, "WI") ~ "WI",
str_detect(state, "WY") ~ "WY",
str_detect(state, "AL") ~ "AL",
str_detect(state, "AK") ~  "AK",
str_detect(state, "AZ") ~  "AZ",
str_detect(state, "AR") ~  "AR",
str_detect(state, "CA") ~  "CA",
str_detect(state, "CO") ~ "CO",
str_detect(state, "CT") ~  "CT",
str_detect(state, "DE") ~  "DE",
str_detect(state, "FL") ~  "FL",
str_detect(state, "GA") ~  "GA",
str_detect(state, "HI") ~ "HI",
str_detect(state, "ID") ~  "ID",
str_detect(state, "IL") ~  "IL",
str_detect(state, "Ill") ~  "IL",
str_detect(state, "IN") ~  "IN",
str_detect(state, "IA") ~  "IA",
str_detect(state, "KS") ~ "KS",
str_detect(state, "KY") ~  "KY",
str_detect(state, "LA") ~  "LA",
str_detect(state, "ME") ~  "ME",
str_detect(state, "MD") ~  "MD",
str_detect(state, "MA") ~  "MA",
str_detect(state, "MI") ~  "MI",
str_detect(state, "MN") ~ "MN",
str_detect(state, "MS") ~  "MS",
str_detect(state, "MO") ~  "MO",
str_detect(state, "NE") ~  "NE",
str_detect(state, "NV") ~ "NV",
str_detect(state, "NH") ~ "NH",
str_detect(state, "DC") ~ "DC",
str_detect(state, "MT") ~ "MT",
str_detect(state, "PR") ~ "PR",
TRUE ~ state
))
view(wbb_rosters_23_24)
#seperate that into two columns based on the comma using seperate and then find a package to abbreviate the states
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
#Attempt 1
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ") %>%
mutate(clean_state = case_when(
str_detect(state, "NJ") ~ "NJ",
str_detect(state, "N.J.") ~ "NJ",
str_detect(state, "N.M.") ~ "NM",
str_detect(state, "N.Y.") ~  "NY",
str_detect(state, "NC") ~ "NC",
str_detect(state, "ND") ~ "ND",
str_detect(state, "OH") ~ "OH",
str_detect(state, "OK") ~ "OK",
str_detect(state, "OR") ~ "OR",
str_detect(state, "PA") ~ "PA",
str_detect(state, "RI") ~ "RI",
str_detect(state, "SC") ~ "SC",
str_detect(state, "SD") ~ "SD",
str_detect(state, "TN") ~ "TN",
str_detect(state, "TX") ~ "TX",
str_detect(state, "Texas") ~  "TX",
str_detect(state, "UT") ~ "UT",
str_detect(state, "VT") ~ "VT",
str_detect(state, "VA") ~ "VA",
str_detect(state, "WA") ~ "WA",
str_detect(state, "WV") ~ "WV",
str_detect(state, "WI") ~ "WI",
str_detect(state, "WY") ~ "WY",
str_detect(state, "AL") ~ "AL",
str_detect(state, "Ak") ~ "AK",
str_detect(state, "Alaska") ~ "AK",
str_detect(state, "AK.") ~ "AK",
str_detect(state, "AZ") ~  "AZ",
str_detect(state, "AR") ~  "AR",
str_detect(state, "CA") ~  "CA",
str_detect(state, "CO") ~ "CO",
str_detect(state, "CT") ~  "CT",
str_detect(state, "DE") ~  "DE",
str_detect(state, "FL") ~  "FL",
str_detect(state, "GA") ~  "GA",
str_detect(state, "HI") ~ "HI",
str_detect(state, "ID") ~  "ID",
str_detect(state, "IL") ~  "IL",
str_detect(state, "Ill") ~  "IL",
str_detect(state, "IN") ~  "IN",
str_detect(state, "IA") ~  "IA",
str_detect(state, "KS") ~ "KS",
str_detect(state, "KY") ~  "KY",
str_detect(state, "LA") ~  "LA",
str_detect(state, "ME") ~  "ME",
str_detect(state, "MD") ~  "MD",
str_detect(state, "MA") ~  "MA",
str_detect(state, "MI") ~  "MI",
str_detect(state, "MN") ~ "MN",
str_detect(state, "MS") ~  "MS",
str_detect(state, "MO") ~  "MO",
str_detect(state, "NE") ~  "NE",
str_detect(state, "NV") ~ "NV",
str_detect(state, "NH") ~ "NH",
str_detect(state, "DC") ~ "DC",
str_detect(state, "MT") ~ "MT",
str_detect(state, "PR") ~ "PR",
TRUE ~ state
))
view(wbb_rosters_23_24)
#seperate that into two columns based on the comma using seperate and then find a package to abbreviate the states
View(state_distinct)
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
#Attempt 1
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ") %>%
mutate(clean_state = case_when(
str_detect(state, "NJ") ~ "NJ",
str_detect(state, "N.J.") ~ "NJ",
str_detect(state, "N.M.") ~ "NM",
str_detect(state, "N.Y.") ~  "NY",
str_detect(state, "NC") ~ "NC",
str_detect(state, "ND") ~ "ND",
str_detect(state, "OH") ~ "OH",
str_detect(state, "OK") ~ "OK",
str_detect(state, "OR") ~ "OR",
str_detect(state, "PA") ~ "PA",
str_detect(state, "RI") ~ "RI",
str_detect(state, "SC") ~ "SC",
str_detect(state, "SD") ~ "SD",
str_detect(state, "TN") ~ "TN",
str_detect(state, "TX") ~ "TX",
str_detect(state, "Texas") ~  "TX",
str_detect(state, "UT") ~ "UT",
str_detect(state, "VT") ~ "VT",
str_detect(state, "VA") ~ "VA",
str_detect(state, "WA") ~ "WA",
str_detect(state, "WV") ~ "WV",
str_detect(state, "WI") ~ "WI",
str_detect(state, "WY") ~ "WY",
str_detect(state, "AL") ~ "AL",
str_detect(state, "Alabama") ~ "AL",
str_detect(state, "Ak") ~ "AK",
str_detect(state, "Alaska") ~ "AK",
str_detect(state, "AK.") ~ "AK",
str_detect(state, "AZ") ~  "AZ",
str_detect(state, "AR") ~  "AR",
str_detect(state, "CA") ~  "CA",
str_detect(state, "CO") ~ "CO",
str_detect(state, "CT") ~  "CT",
str_detect(state, "DE") ~  "DE",
str_detect(state, "FL") ~  "FL",
str_detect(state, "GA") ~  "GA",
str_detect(state, "HI") ~ "HI",
str_detect(state, "ID") ~  "ID",
str_detect(state, "IL") ~  "IL",
str_detect(state, "Ill") ~  "IL",
str_detect(state, "IN") ~  "IN",
str_detect(state, "IA") ~  "IA",
str_detect(state, "KS") ~ "KS",
str_detect(state, "KY") ~  "KY",
str_detect(state, "LA") ~  "LA",
str_detect(state, "ME") ~  "ME",
str_detect(state, "MD") ~  "MD",
str_detect(state, "MA") ~  "MA",
str_detect(state, "MI") ~  "MI",
str_detect(state, "MN") ~ "MN",
str_detect(state, "MS") ~  "MS",
str_detect(state, "MO") ~  "MO",
str_detect(state, "NE") ~  "NE",
str_detect(state, "NV") ~ "NV",
str_detect(state, "NH") ~ "NH",
str_detect(state, "DC") ~ "DC",
str_detect(state, "MT") ~ "MT",
str_detect(state, "PR") ~ "PR",
TRUE ~ state
))
View(wbb_rosters_23_24)
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
state_distinct
#Attempt 1
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ") %>%
mutate(clean_state = case_when(
str_detect(state, "NJ") ~ "NJ",
str_detect(state, "N.J.") ~ "NJ",
str_detect(state, "N.M.") ~ "NM",
str_detect(state, "N.Y.") ~  "NY",
str_detect(state, "NC") ~ "NC",
str_detect(state, "ND") ~ "ND",
str_detect(state, "OH") ~ "OH",
str_detect(state, "OK") ~ "OK",
str_detect(state, "OR") ~ "OR",
str_detect(state, "PA") ~ "PA",
str_detect(state, "RI") ~ "RI",
str_detect(state, "SC") ~ "SC",
str_detect(state, "SD") ~ "SD",
str_detect(state, "TN") ~ "TN",
str_detect(state, "TX") ~ "TX",
str_detect(state, "Texas") ~  "TX",
str_detect(state, "UT") ~ "UT",
str_detect(state, "VT") ~ "VT",
str_detect(state, "VA") ~ "VA",
str_detect(state, "WA") ~ "WA",
str_detect(state, "WV") ~ "WV",
str_detect(state, "WI") ~ "WI",
str_detect(state, "WY") ~ "WY",
str_detect(state, "AL") ~ "AL",
str_detect(state, "Al.") ~ "AL",
str_detect(state, "Ala.") ~ "AL",
str_detect(state, "Alabama") ~ "AL",
str_detect(state, "Ak") ~ "AK",
str_detect(state, "Alaska") ~ "AK",
str_detect(state, "AK.") ~ "AK",
str_detect(state, "AZ") ~  "AZ",
str_detect(state, "AR") ~  "AR",
str_detect(state, "CA") ~  "CA",
str_detect(state, "CO") ~ "CO",
str_detect(state, "CT") ~  "CT",
str_detect(state, "DE") ~  "DE",
str_detect(state, "FL") ~  "FL",
str_detect(state, "GA") ~  "GA",
str_detect(state, "HI") ~ "HI",
str_detect(state, "ID") ~  "ID",
str_detect(state, "IL") ~  "IL",
str_detect(state, "Ill") ~  "IL",
str_detect(state, "IN") ~  "IN",
str_detect(state, "IA") ~  "IA",
str_detect(state, "KS") ~ "KS",
str_detect(state, "KY") ~  "KY",
str_detect(state, "LA") ~  "LA",
str_detect(state, "ME") ~  "ME",
str_detect(state, "MD") ~  "MD",
str_detect(state, "MA") ~  "MA",
str_detect(state, "MI") ~  "MI",
str_detect(state, "MN") ~ "MN",
str_detect(state, "MS") ~  "MS",
str_detect(state, "MO") ~  "MO",
str_detect(state, "NE") ~  "NE",
str_detect(state, "NV") ~ "NV",
str_detect(state, "NH") ~ "NH",
str_detect(state, "DC") ~ "DC",
str_detect(state, "MT") ~ "MT",
str_detect(state, "PR") ~ "PR",
TRUE ~ state
))
view(wbb_rosters_23_24)
#seperate that into two columns based on the comma using seperate and then find a package to abbreviate the states
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(clean_state = state2abbr(state))
wbb_rosters_23_24 <- read_csv("data/wbb_rosters_2023_24.csv")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(copy = hometown) %>%
separate(hometown, into = c("town", "state"), sep = ", ")
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(clean_state = state2abbr(state))
wbb_rosters_23_24$state <- gsub("\\.", "", wbb_rosters_23_24$state)
wbb_rosters_23_24 <- wbb_rosters_23_24 %>%
mutate(clean_state = state2abbr(state))
clean_state %>%
filter(clean_state != state.abb)
wbb_rosters_23_24 %>%
filter(clean_state != state.abb)
wbb_rosters_23_24 %>%
filter(clean_state != state.abb) %>%
select(clean_state)
wbb_rosters_23_24 %>%
filter(clean_state == state.abb) %>%
select(clean_state)
division_one_md %>%
group_by(high_school) %>%
count() %>%
arrange(desc(n)) %>%
rename(players_from_md = n)
View(wbb_rosters_22_23)
