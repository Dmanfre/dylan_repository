"0","```r

#EDUCATION - this one works differently than the templates above
#Will calculate as percentage of people with a bachelor's degree

#STATE
# Note: starting point here is ACS3 2007
mdbachelors_2008 <- md_2007 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

mdbachelors_2013 <- md_2013 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

mdbachelors_2018 <- md_2018 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

mdbachelors <- bind_rows(mdbachelors_2008, mdbachelors_2013, mdbachelors_2018) %>%
  spread(key = year, value = pct) %>%
  rename(\"year_2008\" = \"2007\") %>%
  rename(\"year_2013\" = \"2013\") %>%
  rename(\"year_2018\" = \"2018\") %>%
  mutate(location = \"Maryland\") %>%
  mutate(variable = \"pct with bachelors degrees\") %>%
  mutate(pct_change_5 = year_2013-year_2008) %>%
  mutate(pct_change_10 = year_2018-year_2008) %>%
  mutate(pct_change_5_to_10 = year_2018-year_2013) %>%
  select(variable, location, year_2008:year_2018, pct_change_5:pct_change_5_to_10)

#COUNTY
# Note: starting point here is ACS3 2007
charlesbachelors_2008 <- charles_2007 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

charlesbachelors_2013 <- charles_2013 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

charlesbachelors_2018 <- charles_2018 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

charlesbachelors <- bind_rows(charlesbachelors_2008, charlesbachelors_2013, charlesbachelors_2018) %>%
  spread(key = year, value = pct) %>%
  rename(\"year_2008\" = \"2007\") %>%
  rename(\"year_2013\" = \"2013\") %>%
  rename(\"year_2018\" = \"2018\") %>%
  mutate(location = \"Charles County\") %>%
  mutate(variable = \"pct with bachelors degrees\") %>%
  mutate(pct_change_5 = year_2013-year_2008) %>%
  mutate(pct_change_10 = year_2018-year_2008) %>%
  mutate(pct_change_5_to_10 = year_2018-year_2013) %>%
  select(variable, location, year_2008:year_2018, pct_change_5:pct_change_5_to_10)

#CITY
# Note: starting point here is ACS3 2007
wbachelors_2008 <- w_2007 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

wbachelors_2013 <- w_2013 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

wbachelors_2018 <- w_2018 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

wbachelors <- bind_rows(wbachelors_2008, wbachelors_2013, wbachelors_2018) %>%
  spread(key = year, value = pct) %>%
  rename(\"year_2008\" = \"2007\") %>%
  rename(\"year_2013\" = \"2013\") %>%
  rename(\"year_2018\" = \"2018\") %>%
  mutate(location = \"Waldorf\") %>%
  mutate(variable = \"pct with bachelors degrees\") %>%
  mutate(pct_change_5 = year_2013-year_2008) %>%
  mutate(pct_change_10 = year_2018-year_2008) %>%
  mutate(pct_change_5_to_10 = year_2018-year_2013) %>%
  select(variable, location, year_2008:year_2018, pct_change_5:pct_change_5_to_10)

#TRACT 2008
# Note: starting point here is ACS5 2009
# Needed ChatGPT's help to figure out middle two steps - in this case, total number of bachelors needs to be a sum of men + women

tractbachelors_2008 <- tract_2009 %>%
  filter(variable == \"education_total\"|variable == \"education_men_bachelors\"|variable == \"education_women_bachelors\")

new_row_bachelors <- tibble(GEOID = \"24017850904\",
                  NAME = \"Census Tract 8509.04, Charles County, Maryland\",
                  variable = \"education_bachelors\",
                  estimate = sum(tractbachelors_2008$estimate[tractbachelors_2008$variable %in% c(\"education_men_bachelors\", \"education_women_bachelors\")]),
                  moe = NA,
                  year = 2009)

tractbachelors_2008 <- tractbachelors_2008 %>%
  add_row(new_row_bachelors)

tractbachelors_2008 <- tractbachelors_2008 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

#TRACT REMAINING STEPS

tractbachelors_2013 <- tract_2013 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

tractbachelors_2018 <- tract_2018 %>%
  filter(variable == \"education_total\"|variable == \"education_bachelors\") %>%
  mutate(pct = round(estimate/estimate[variable == \"education_total\"]*100,1)) %>%
  filter(variable == \"education_bachelors\") %>%
  select(year, pct)

tractbachelors <- bind_rows(tractbachelors_2008, tractbachelors_2013, tractbachelors_2018) %>%
  spread(key = year, value = pct) %>%
  rename(\"year_2008\" = \"2009\") %>%
  rename(\"year_2013\" = \"2013\") %>%
  rename(\"year_2018\" = \"2018\") %>%
  mutate(location = \"Census Tract 8509.04\") %>%
  mutate(variable = \"pct with bachelors degrees\") %>%
  mutate(pct_change_5 = year_2013-year_2008) %>%
  mutate(pct_change_10 = year_2018-year_2008) %>%
  mutate(pct_change_5_to_10 = year_2018-year_2013) %>%
  select(variable, location, year_2008:year_2018, pct_change_5:pct_change_5_to_10)

# ALL TOGETHER
bachelors <- bind_rows(mdbachelors, charlesbachelors, wbachelors, tractbachelors)

# CSV
write_csv(bachelors, file = \"bachelors.csv\")

```"
