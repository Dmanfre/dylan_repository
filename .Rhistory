mutate(Amount  = str_replace_all(Amount, "[$[:punct:]]", "”))
View(dylan)
dylan <- dylan %>%
mutate(Amount  = str_replace_all(Amount, "[$[:punct:]]", "”))
dylan <- dylan %>%
mutate(Amount  = str_replace_all(Amount, "[$[:punct:]]", "”))
View(dylan)
View(dylan)
View(dylan)
View(dylan)
View(dylan)
View(dylan)
dylan <- dylan %>%
mutate(Amount  = str_replace_all(Amount, "[$[:punct:]]", "”))"
dylan <- dylan %>%
mutate(Amount  = str_replace_all(Amount, "[$[:punct:]]", "”))
View(dylan)
dylan <- read.csv("Desktop/sports-political-donations.csv")
dylan <- read.csv("Desktop/sports-political-donations.csv")
View(dylan)
dylan %>%
mutate(Amount  = str_replace_all(Amount, "[$[:punct:]]", "”))
View(dylan)
View(dylan)
View(dylan)
View(dylan)
View(dylan)
dylan %>%
mutate(Amount  = str_replace_all(Amount, "[$[:punct:]]", ""))
dylan <- read.csv("Downloads/dylan.csv")
View(dylan)
dylan %>%
clean_names()
dylan %>%
group_by(contributor_state)
count()
dylan %>%
group_by(contributor_state)
count=n
dylan %>%
group_by(contributor_state) %>%
count()
dylan %>%
group_by(contributor_state) %>%
count(n)
dylan %>%
group_by(contributor_state) %>%
count(n)
dylan %>%
group_by(report_year) %>%
count()
dylan %>%
group_by(report_year) %>%
count(n)
library(readr)
sports_political_donations <- read_csv("Desktop/sports-political-donations.csv")
install.packages("bit")
library(readr)
sports_political_donations <- read_csv("Desktop/sports-political-donations.csv")
View(sports_political_donations)
library(tidyverse)
library(lubridate)
library(janitor)
sports_political_donations %>%
clean_names()
sports_political_donations <- sports_political_donations %>%
clean_names()
sports_political_donations %>%
mutate(Amount  = str_replace_all(Amount, "[$[:punct:]]", ""))
sports_political_donations %>%
mutate(amount  = str_replace_all(amount, "[$[:punct:]]", ""))
sports_political_donations <- sports_political_donations %>%
mutate(amount  = str_replace_all(amount, "[$[:punct:]]", ""))
sports_political_donations %>%
group_by(committee) %>%
count()
sports_political_donations %>%
group_by(recipient) %>%
count()
sports_political_donations %>%
group_by(recipient) %>%
count(amount) %>%
arrange(desc(amount))
sports_political_donations %>%
group_by(recip) %>%
count_contribs=n()
sports_political_donations %>%
group_by(recip) %>%
count(contribs)=n
sports_political_donations %>%
group_by(recip) %>%
count() %>%
arrance(desc(n))
sports_political_donations %>%
group_by(recip) %>%
count() %>%
arrange(desc(n))
sports_political_donations %>%
group_by(recipient) %>%
count() %>%
arrange(desc(n))
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot")
install.packages("tidycensus")
install.packages("sf")
knitr::opts_chunk$set(echo = TRUE)
#libraries
library(tidyverse)
library(janitor)
library(lubridate)
knitr::opts_chunk$set(echo = TRUE)
#libraries
library(tidyverse)
library(janitor)
library(lubridate)
#load data
read_csv("Desktop/rosters_2022-23.csv")
#load data
wbb_rosters <- read_csv("Desktop/rosters_2022-23.csv")
View(wbb_rosters)
wb_rosters <- wb_rosters %>%
mutate(state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high school, " Md.") ~ "Maryland"))
wb_rosters <- wb_rosters %>%
mutate(state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland"))
wb_rosters <- wb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state))
#load data
wbb_rosters <- read_csv("Desktop/rosters_2022-23.csv")
setwd("~/Documents/GitHub/dylan_repository")
#load data
wbb_rosters <- read_csv("Desktop/rosters_2022-23.csv")
library(readr)
rosters_2022_23 <- read_csv("rosters_2022-23.csv")
View(rosters_2022_23)
#load data
wbb_rosters <- read_csv("~/Documents/GitHub/dylan_repository/rosters_2022-23.csv")
wb_rosters <- wb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state
))
wb_rosters <- wb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state
))
setwd("~/Documents/GitHub/dylan_repository")
#load data
wbb_rosters <- read_csv("~/Documents/GitHub/dylan_repository/rosters_2022-23.csv")
wb_rosters <- wb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state
))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state
))
#load data
wbb_rosters <- read_csv("~/Documents/GitHub/dylan_repository/rosters_2022-23.csv")
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state
))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state
))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland"
TRUE ~ player_state
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
TRUE ~ player_state
))
wbb_rosters <- wbb_rosters %>%
mutate(hometown = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
TRUE ~ hometown
))
wb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state
))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state
))
wbb_rosters <- wbb_rosters %>%
mutate(new_column = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ new_column
))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ player_state
))
wbb_rosters <- wbb_rosters %>%
mutate(player_state)
wbb_rosters <- wbb_rosters %>%
mutate(hometown, high_school = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ hometown, high_school
))
wbb_rosters <- wbb_rosters %>%
mutate(hometown = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ hometown
))
View(wbb_rosters)
wbb_rosters <- wbb_rosters %>%
mutate(hometown = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " MD") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ hometown
))
wbb_rosters <- wbb_rosters %>%
mutate(hometown = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " MD") ~ "Maryland",
str_detect(hometown, " Md.") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ hometown
))
wbb_rosters <- wbb_rosters %>%
mutate(hometown = case_when(
str_detect(hometown, " MD ") ~ "Maryland",
str_detect(hometown, " Md. ") ~ "Maryland",
str_detect(high_school, " Md.") ~ "Maryland",
TRUE ~ hometown
))
#load data
wbb_rosters <- read_csv("~/Documents/GitHub/dylan_repository/rosters_2022-23.csv")
wbb_rosters <- wbb_rosters %>%
mutate(hometown = case_when(
str_detect(hometown, " MD") ~ "Maryland",
str_detect(hometown, " Md.") ~ "Maryland",
TRUE ~ hometown
))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD") ~ "Maryland",
str_detect(hometown, " Md.") ~ "Maryland",
TRUE ~ player_state))
bb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD") ~ "Maryland",
str_detect(hometown, " Md.") ~ "Maryland",
TRUE ~ player_state))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD") ~ "Maryland",
str_detect(hometown, " Md.") ~ "Maryland",
TRUE ~ hometown))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(high_school, " Md.") ~ "Maryland",
str_detect(high_school, " MD") ~ "Maryland",
str_detect(high_school, " MD ") ~ "Maryland",
TRUE ~ hometown))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD") ~ "Maryland",
str_detect(hometown, " Md.") ~ "Maryland",
TRUE ~ hometown))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(high_school, " Md.") ~ "Maryland",
str_detect(high_school, " MD") ~ "Maryland",
str_detect(high_school, " MD ") ~ "Maryland",
TRUE ~ high_school))
#load data
wbb_rosters <- read_csv("Desktop/rosters_2022-23.csv")
#load data
wbb_rosters <- read_csv("Desktop/rosters_2022-23.csv")
#load data
wbb_rosters <- read_csv("~/Documents/GitHub/dylan_repository/rosters_2022-23.csv")
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD") ~ "Maryland",
str_detect(hometown, " Md.") ~ "Maryland",
TRUE ~ hometown))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(high_school, " Md.") ~ "Maryland",
str_detect(high_school, " MD") ~ "Maryland",
str_detect(high_school, " MD ") ~ "Maryland",
TRUE ~ high_school))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, " MD" ~ "Maryland",
str_detect(hometown, " Md." ~ "Maryland",
TRUE ~ hometown))))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown == " MD") ~ "Maryland",
str_detect(hometown == " Md.") ~ "Maryland",
TRUE ~ hometown))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, "MD") ~ "Maryland",
str_detect(hometown, "Md") ~ "Maryland",
TRUE ~ hometown))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, "MD") ~ "Maryland",
str_detect(hometown, "Md.") ~ "Maryland",
TRUE ~ hometown))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(high_school, " Md.") ~ "Maryland",
str_detect(high_school, " MD") ~ "Maryland",
str_detect(high_school, " MD") ~ "Maryland",
TRUE ~ high_school))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, "MD") ~ "Maryland",
str_detect(hometown, "Md.") ~ "Maryland",
TRUE ~ hometown))
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(high_school, "Md.") ~ "Maryland",
str_detect(high_school, "MD") ~ "Maryland",
str_detect(high_school, "MD") ~ "Maryland",
TRUE ~ high_school))
wbb_rosters %>%
filter(player_state == "Maryland")
wbb_rosters <- wbb_rosters %>%
mutate(player_state = case_when(
str_detect(hometown, "MD") ~ "Maryland",
str_detect(hometown, "Md.") ~ "Maryland",
TRUE ~ hometown))
wbb_rosters %>%
filter(player_state == "Maryland")
knitr::opts_chunk$set(echo = TRUE)
setwd("/Volumes/Elements/D-Drive/University of Maryland/Classes/Fall 2022/Data Journalism/Github Repository/Data_Journalism_2022_Fall/major_assignments/state_profile/")
#libraries
library(tidyverse)
library(janitor)
library(lubridate)
# loading in the PA Democratic Contributions
pa_dem_contribs <- read_csv("data/pa_dem_contribs_21_22.csv")
head(pa_dem_contribs)
#laoding in GOP contribs
pa_gop_contribs <- read_csv("data/pa_gop_contribs_21_22.csv")
head(pa_gop_contribs)
#loading in Democratic Expenses
pa_dem_expenses <- read_csv("data/pa_dem_expenses_21_22.csv")
head(pa_dem_expenses)
#loading in GOP expenses
pa_gop_expenses <- read_csv("data/pa_gop_expenses_21_22.csv")
head(pa_gop_expenses)
## Cleaning pa_dem_contribs
pa_dem_contribs <- pa_dem_contribs %>%
select(-image_number, -line_number, -transaction_id, -file_number, -committee_name...9, -candidate_id, -candidate_prefix, -candidate_suffix, -candidate_office, -candidate_office_full, -candidate_office_state, -candidate_office_state_full, -candidate_office_district, -conduit_committee_id)
# renaming columns
pa_dem_contribs <- pa_dem_contribs %>%
rename(committee_name = committee_name...2) %>%
mutate(contribution_receipt_date = ymd(contribution_receipt_date)) %>%
mutate(contributor_zip = str_sub(contributor_zip, start=1L, end=5L))
# cleaning pa_gop_contribs
pa_gop_contribs <- pa_gop_contribs %>%
select(-image_number, -line_number, -transaction_id, -file_number, -committee_name...9, -candidate_id, -candidate_prefix, -candidate_suffix, -candidate_office, -candidate_office_full, -candidate_office_state, -candidate_office_state_full, -candidate_office_district, -conduit_committee_id) %>%
rename(committee_name = committee_name...2) %>%
mutate(contribution_receipt_date = ymd(contribution_receipt_date)) %>%
mutate(contributor_zip = str_sub(contributor_zip, start=1L, end=5L))
# How much did Pennsylvania raise in total.. number as of Nov. 27
pa_dem_contribs %>%
summarize(total_pa_dem_contribs = sum(contribution_receipt_amount))
# the result of this code is a 1x1 tibble with the total 14897061
#showing how much each entity donated and breaking it down by percentage for dems
dem_entity_perc <- pa_dem_contribs %>%
group_by(entity_type, entity_type_desc) %>%
summarize(total = sum(contribution_receipt_amount)) %>%
mutate(perc_total = total/14897061*100) %>%
arrange(desc(perc_total))
# showing difference between IND and PAC for Dems
ind_pac_dem_difference <- 2314694.2-654025.6
dem_entity_perc
#showing how much each entity donated and breaking it down by percentage for GOP
gop_entity_perc <- pa_gop_contribs %>%
group_by(entity_type, entity_type_desc) %>%
summarize(total = sum(contribution_receipt_amount)) %>%
mutate(perc_total = total/14897061*100) %>%
arrange(desc(perc_total))
gop_entity_perc
# Where did the GOP contribs come from.
pa_gop_contribs %>%
group_by(contributor_name, contributor_employer) %>%
summarize(state_total = sum(contribution_receipt_amount)) %>%
mutate(perc_total = state_total/14897061*100) %>%
arrange(desc(perc_total))
pa_gop_contribs %>%
filter(entity_type == "IND") %>%
group_by(contributor_name) %>%
summarise(total = sum(contribution_receipt_amount)) %>%
arrange(desc(total))
#Notes: 14 people gave the maximum of $20k in the period for the GOP
pa_dem_contribs %>%
filter(entity_type == "IND") %>%
group_by(contributor_name, contributor_state) %>%
summarise(total = sum(contribution_receipt_amount)) %>%
arrange(desc(total))
#Notes 7 people gave the max of 20k in the period for the dem campaign.
each_state <- pa_dem_contribs %>%
filter(contributor_state != "PA") %>%
group_by(contributor_state) %>%
count() %>%
arrange(desc(n))
pa_gop_contribs %>%
filter(entity_type == "IND") %>%
group_by(contributor_name) %>%
summarise(total = sum(contribution_receipt_amount)) %>%
arrange(desc(total))
#Notes: 14 people gave the maximum of $20k in the period for the GOP
pa_dem_contribs %>%
filter(entity_type == "IND") %>%
group_by(contributor_name, contributor_state) %>%
summarise(total = sum(contribution_receipt_amount)) %>%
arrange(desc(total))
#Notes 7 people gave the max of 20k in the period for the dem campaign.
each_state <- pa_dem_contribs %>%
filter(contributor_state != "PA") %>%
group_by(contributor_state) %>%
count() %>%
arrange(desc(n))
# showing the orgs doners for DEMOCRATS
pa_dem_orgs <- pa_dem_contribs %>%
filter(entity_type == "ORG") %>%
group_by(contributor_name) %>%
summarize(total = sum(contribution_receipt_amount)) %>%
arrange(desc(total))
pa_dem_orgs
# showing the top doners for GOP
pa_gop_orgs <- pa_gop_contribs %>%
filter(entity_type == "ORG") %>%
group_by(contributor_name) %>%
summarize(total = sum(contribution_receipt_amount)) %>%
arrange(desc(total))
pa_gop_orgs
View(pa_gop_expenses)
pa_gop_expenses %>%
group_by(recepient_name) %>%
count()
#loading in GOP expenses
pa_gop_expenses <- read_csv("data/pa_gop_expenses_21_22.csv")
pa_gop_expenses %>%
group_by(recepient_name) %>%
count()
View(pa_gop_expenses)
pa_gop_expenses %>%
group_by(recepient_name) %>%
count()
pa_gop_expenses %>%
group_by(recipient_name) %>%
count()
pa_gop_expenses %>%
group_by(recipient_name) %>%
count() %>%
arrange(desc(n))
pa_gop_expenses %>%
filter(entity_type_desc == "ORGANIZATION")
pa_gop_expenses %>%
filter(entity_type_desc == "ORGANIZATION") %>%
group_by(recipient_name) %>%
count() %>%
arrange(desc(n))
