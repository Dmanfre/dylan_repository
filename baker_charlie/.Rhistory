knitr::opts_chunk$set(echo = TRUE)
#libraries
library(tidyverse)
library(janitor)
library(lubridate)
#loading in data
baker_contribs <- read_delim("data/baker_contribs.csv")
head(baker_contribs)
baker_expenses <- read_delim("data/baker_expenses.csv")
head(baker_expenses)
#cleaning
baker_contribs <- baker_contribs %>%
clean_names() %>%
mutate(date = mdy(date))
baker_expenses <- baker_expenses %>%
clean_names() %>%
mutate(date = mdy(date))
baker_contribs %>% filter(date >= "2015-01-08")
baker_contribs <- baker_contribs %>%
filter(date >= "2015-01-08")
baker_contribs %>%
summarize(total_contribs = sum(amount))
baker_contribs <- baker_contribs %>%
mutate(city = tolower(city))
baker_contribs <- baker_contribs %>%
mutate(city = toupper(city))
baker_contribs %>%
group_by(occupation) %>%
count() %>%
arrange(desc(n))
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(occupation) %>%
count() %>%
arrange(desc(n))
baker_contribs %>%
#filter(record_type_description == "Individual") %>%
group_by(occupation) %>%
count() %>%
arrange(desc(n))
baker_contribs <- baker_contribs %>%
mutate(city = toupper(city)) %>%
mutate(occuptation = toupper(occuptation))
baker_contribs <- baker_contribs %>%
mutate(city = toupper(city)) %>%
mutate(occupation = toupper(occupation))
baker_contribs %>%
#filter(record_type_description == "Individual") %>%
group_by(occupation) %>%
count() %>%
arrange(desc(n))
#libraries
library(tidyverse)
library(janitor)
library(lubridate)
baker_contribs %>%
group_by(state) %>%
summarize(total_state = sum(amount)) %>%
arrange(desc(total_state))
baker_contribs %>%
filter(state != "MA") %>%
group_by(state) %>%
summarize(total_state = sum(amount)) %>%
arrange(desc(total_state))
baker_contribs <- baker_contribs %>%
mutate(city = toupper(city)) %>%
mutate(occupation = toupper(occupation)) %>%
mutate(state  = str_to_upper(state))
baker_contribs %>%
filter(state != "MA") %>%
group_by(state) %>%
summarize(total_state = sum(amount)) %>%
arrange(desc(total_state))
baker_contribs %>%
summarize(total_contribs = sum(amount))
baker_contribs %>%
filter(state != "MA") %>%
group_by(state) %>%
summarize(total_state = sum(amount)) %>%
arrange(desc(total_state))
baker_contribs <- baker_contribs %>%
mutate(city = toupper(city)) %>%
mutate(occupation = toupper(occupation)) %>%
mutate(state  = str_to_upper(state)) %>%
mutate(zip_code = str_sub(zip_code, start=1L, end=5L))
baker_contribs <- baker_contribs %>%
mutate(city = toupper(city)) %>%
mutate(occupation = toupper(occupation)) %>%
mutate(state  = str_to_upper(state)) %>%
mutate(zip_code = str_sub(zip_code, start=1L, end=5L)) %>%
rename(last_name = name)
baker_contribs %>%
group_by(first_name, last_name) %>%
summarize(amount = sum(amount))
baker_contribs %>%
group_by(first_name, last_name) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name, state, zip_code) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name, state) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
#top contribs to Baker
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name, zip_code) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount)) %>%
select(first_name, last_name, state, zip_code)
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name, state) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name, state) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs %>%
group_by(first_name, last_name) %>%
summarise(total = n(), amount = sum(contribution_receipt_amount)) %>%
arrange(desc(total))
baker_contribs %>%
group_by(first_name, last_name) %>%
summarise(total = n(), amount = sum(amount)) %>%
arrange(desc(total))
baker_contribs
baker_contribs %>%
filter(record_type_description == "Individual") %>%
group_by(first_name, last_name) %>%
summarize(amount = sum(amount)) %>%
arrange(desc(amount))
baker_contribs
baker_contribs %>%
group_by(first_name, last_name) %>%
summarise(total = n(), amount = sum(amount)) %>%
arrange(desc(total))
baker_contribs %>%
group_by(first_name, last_name, state) %>%
summarise(total = n(), amount = sum(amount)) %>%
arrange(desc(total))
