```{r}
library(tidyverse)
library(janitor)
library(rvest)
options(scipen = 999)
```

Goal here is to see if Brinae Alexander does better in home games than away.
Data imported from sports reference

Getting all big ten players
- can use the data from class.
- can see if wehoop has it


```{r}
library(wehoop)

years<- c(2023, 2022, 2021, 2020, 2019, 2018, 2017)

player_logs <- load_wbb_player_box(seasons = years)
                            
```

What I need to do
- Group by home and away
- make a conference column for the p5
- filter for big ten
- use the stats from the code I wrote below

```{r}
player_logs <- player_logs %>%
  mutate(home_away = case_when(
    is.na(home_away) ~ "H",
    TRUE ~ as.character(home_away)
  ))
```

# need to change Penn State Lady Lions to Nittany Lions. 

```{r}
# b10_players

big10 <- c("Nebraska Cornhuskers", "Iowa Hawkeyes", "Minnesota Golden Gophers", "Illinois Fighting Illini", "Northwestern Wildcats", "Wisconsin Badgers", "Indiana Hoosiers", "Purdue Boilermakers", "Ohio State Buckeyes", "Michigan Wolverines", "Michigan State Spartans", "Penn State Lady Lions", "Rutgers Scarlet Knights", "Maryland Terrapins")



b10_players <- player_logs %>% 
  filter(team_display_name %in% big10) %>% 
  distinct(team_display_name)
# Penn State missing

```


```{r}
# home stats
home <- alexander_logs %>% 
  filter(type != "NCAA" & home_away == "H") %>%
  group_by(season) %>% 
  summarize(avg_pts_h = mean(pts),
            avg_ast_h = mean(ast),
            avg_steal_h = mean(stl),
            avg_3pt_perc_h = mean(three_p_percent))

# away stats
away <- alexander_logs %>% 
  filter(type != "NCAA" & home_away == "@") %>%
  group_by(season) %>% 
  summarize(avg_pts_a = mean(pts),
            avg_ast_a = mean(ast),
            avg_steal_a = mean(stl),
            avg_3pt_perc_a = mean(three_p_percent))

home_away_combined <- inner_join(home, away, by = "season")
```

```{r}
home_away_combined %>% 
  mutate(
    pts_diff = avg_pts_h - avg_pts_a,
    ast_diff = avg_ast_h - avg_ast_a,
    steals_diff = avg_steal_h - avg_steal_a,
    three_pt_perc_diff = avg_3pt_perc_h - avg_3pt_perc_a)
```





