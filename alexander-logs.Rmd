```{r}
library(tidyverse)
library(janitor)
library(rvest)
library(wehoop)
options(scipen = 999)
```

Goal here is to see if Brinae Alexander does better in home games than away.
Data imported from sports reference

Getting all big ten players
- can use the data from class.
- can see if wehoop has it


```{r}


years<- c(2023, 2022, 2021, 2020, 2019, 2018, 2017)

player_logs <- load_wbb_player_box(seasons = years)

# confernece

```

What I need to do
- Group by home and away
- make a conference column for the p5
- filter for big ten
- use the stats from the code I wrote below

```{r}
player_logs <- player_logs %>%
  mutate(home_away = case_when(
    is.na(home_away) ~ "H",
    TRUE ~ as.character(home_away)
  ))
```

# need to change Penn State Lady Lions to Nittany Lions. 

```{r}
# b10_players

big10 <- c("Nebraska Cornhuskers", "Iowa Hawkeyes", "Minnesota Golden Gophers", "Illinois Fighting Illini", "Northwestern Wildcats", "Wisconsin Badgers", "Indiana Hoosiers", "Purdue Boilermakers", "Ohio State Buckeyes", "Michigan Wolverines", "Michigan State Spartans", "Penn State Lady Lions", "Rutgers Scarlet Knights", "Maryland Terrapins")

player_logs %>% 
  filter(team_display_name %in% big10) %>% 
  distinct(team_display_name)

# Make a conference column called Big Ten
# Penn state is called Lady Lions

player_logs <- player_logs %>%
  mutate(conference = case_when(
    team_display_name %in% big10 ~ "Big Ten"
  ))


```


filtering for players who played
```{r}
# home stats
player_logs %>% 
  filter(team_display_name == "Maryland Terrapins" & did_not_play == "FALSE", home_away == "home") %>%
  group_by(season) %>% 
   summarize(avg_pts_h = mean(points),
            avg_ast_h = mean(assists),
            avg_steal_h = mean(steals),
            avg_3ptm_h = mean(three_point_field_goals_made))

# away stats
player_logs %>% 
  filter(team_display_name == "Maryland Terrapins" & did_not_play == "FALSE", home_away == "away") %>%
  group_by(season) %>% 
   summarize(avg_pts_h = mean(points),
            avg_ast_h = mean(assists),
            avg_steal_h = mean(steals),
            avg_3ptm_h = mean(three_point_field_goals_made))
home_away_combined <- inner_join(home, away, by = "season")
```

```{r}
home_away_combined %>% 
  mutate(
    pts_diff = avg_pts_h - avg_pts_a,
    ast_diff = avg_ast_h - avg_ast_a,
    steals_diff = avg_steal_h - avg_steal_a,
    three_pt_perc_diff = avg_3pt_perc_h - avg_3pt_perc_a)
```





